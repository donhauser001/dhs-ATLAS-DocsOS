# Person ç±»å‹åŒ…é‡æ„è§„åˆ’

> ç‰ˆæœ¬: 1.0.0  
> åˆ›å»ºæ—¥æœŸ: 2026-01-16  
> çŠ¶æ€: ğŸ“‹ å¾…ç¡®è®¤

---

## ä¸€ã€èƒŒæ™¯ä¸ç›®æ ‡

### 1.1 é‡æ„èƒŒæ™¯

Phase 4.2 å’Œ 4.3 å®Œæˆåï¼ŒATLAS ç¼–è¾‘å™¨ç»„ä»¶åº“å·²ä» 22 ä¸ªæ‰©å±•åˆ° 40 ä¸ªï¼Œæ–°å¢äº†å¤§é‡å®ç”¨ç»„ä»¶ï¼š

| æ–°å¢ç»„ä»¶ | ç±»å‹ | å¯ç”¨äº Person |
|---------|------|---------------|
| `user-auth` | å®‰å…¨å‹ | âœ… æ ¸å¿ƒï¼šç”¨æˆ·è®¤è¯å­—æ®µç»„ |
| `timestamp` | æ™ºèƒ½å‹ | âœ… åˆ›å»º/æ›´æ–°æ—¶é—´ |
| `login-stats` | æ™ºèƒ½å‹ | âœ… ç™»å½•ç»Ÿè®¡ |
| `audit-log` | æ™ºèƒ½å‹ | âœ… å˜æ›´è®°å½• |
| `user-picker` | å…³è”å‹ | âœ… å…³è”ä¸Šçº§/å›¢é˜Ÿ |
| `document-link` | å…³è”å‹ | âœ… å…³è”æ–‡æ¡£ |
| `id-card` | è¾“å…¥å‹ | âœ… èº«ä»½è¯å· |
| `url` | è¾“å…¥å‹ | âœ… ä¸ªäººä¸»é¡µ |
| `qrcode` | å±•ç¤ºå‹ | âœ… åç‰‡äºŒç»´ç  |

ç°æœ‰ Person ç±»å‹åŒ…è®¾è®¡äº Phase 4.2 ä¹‹å‰ï¼Œæœªèƒ½å……åˆ†åˆ©ç”¨è¿™äº›æ–°èƒ½åŠ›ã€‚

### 1.2 é‡æ„ç›®æ ‡

1. **æ·±åº¦é›†æˆ user-auth ç»„ä»¶** - ä½¿ç”¨ä¸¥æ ¼æ ‡è¯†ç¬¦ `__atlas_user_auth__` å®ç°å®Œæ•´è®¤è¯
2. **å……åˆ†åˆ©ç”¨æ–°ç»„ä»¶** - æå‡äººå‘˜æ¡£æ¡ˆçš„åŠŸèƒ½æ€§å’Œç”¨æˆ·ä½“éªŒ
3. **ä¿æŒç®€æ´å®ç”¨** - é¿å…è¿‡åº¦è®¾è®¡ï¼Œèšç„¦æ ¸å¿ƒåœºæ™¯

---

## äºŒã€äººå‘˜æ¡£æ¡ˆæ–‡æ¡£æ¨¡æ¿è®¾è®¡

### 2.1 æ¨¡æ¿æ€»è§ˆ

```markdown
---
doc-type: person
title: å¼ ä¸‰
created: 2026-01-16
updated: 2026-01-16
status: verified
---

# å¼ ä¸‰

## èº«ä»½ä¿¡æ¯

```atlas-data
type: person_identity
id: identity_001
---
display_name: å¼ ä¸‰
avatar: ./assets/avatar.jpg
email: zhangsan@example.com
phone: 13800138000
id_card: 110101********1234
title: é«˜çº§äº§å“ç»ç†
company: ABCç§‘æŠ€æœ‰é™å…¬å¸
department: äº§å“éƒ¨
tags:
  - VIPå®¢æˆ·
  - äº§å“
  - åŒ—äº¬
```

## ç”¨æˆ·è®¤è¯

```atlas-data
type: __atlas_user_auth__
id: auth_001
---
user_id: U20260116001
username: zhangsan
email: zhangsan@example.com
phone: 13800138000
password_hash: $2a$12$xxxxx
role: staff
status: active
expired_at: null
```

## å·¥ä½œä¿¡æ¯

```atlas-data
type: person_work
id: work_001
---
employee_id: EMP2024001
hire_date: 2024-03-15
work_location: åŒ—äº¬æ€»éƒ¨
manager: ./äººå‘˜/æå››.md
team_members:
  - ./äººå‘˜/ç‹äº”.md
  - ./äººå‘˜/èµµå…­.md
```

## è”ç³»æ–¹å¼

```atlas-data
type: person_contact
id: contact_001
---
work_email: zhangsan@abc-tech.com
work_phone: 010-12345678
wechat: zhangsan_wx
address: åŒ—äº¬å¸‚æµ·æ·€åŒºxxxè·¯xxxå·
personal_url: https://zhangsan.me
```

## å¤‡æ³¨

è¿™é‡Œå¯ä»¥å†™ä¸€äº›å…³äºæ­¤äººå‘˜çš„å¤‡æ³¨ä¿¡æ¯...
```

### 2.2 æ•°æ®å—ç»“æ„è®¾è®¡

#### æ•°æ®å— 1: `person_identity` (èº«ä»½ä¿¡æ¯) - å¿…é€‰

**å®šä½**: äººå‘˜çš„æ ¸å¿ƒèº«ä»½ä¿¡æ¯ï¼Œæ¯ä¸ª Person æ–‡æ¡£å¿…é¡»æœ‰æ­¤æ•°æ®å—ã€‚

| å­—æ®µ | æ ‡ç­¾ | ç»„ä»¶ | å¿…å¡« | è¯´æ˜ |
|------|------|------|------|------|
| `display_name` | æ˜¾ç¤ºåç§° | `text` | âœ… | ç”¨äºåˆ—è¡¨æ˜¾ç¤ºå’Œå¼•ç”¨ |
| `avatar` | å¤´åƒ | `avatar` | - | äººå‘˜å¤´åƒ |
| `email` | é‚®ç®± | `email` | âš ï¸ | è‡³å°‘å¡«å†™é‚®ç®±æˆ–æ‰‹æœºä¹‹ä¸€ |
| `phone` | æ‰‹æœºå· | `phone` | âš ï¸ | è‡³å°‘å¡«å†™é‚®ç®±æˆ–æ‰‹æœºä¹‹ä¸€ |
| `id_card` | èº«ä»½è¯å· | `id-card` | - | æ”¯æŒæ©ç æ˜¾ç¤º |
| `title` | èŒä½ | `text` | - | èŒä½/å¤´è¡” |
| `company` | å…¬å¸ | `text` | - | æ‰€å±å…¬å¸ |
| `department` | éƒ¨é—¨ | `text` | - | æ‰€å±éƒ¨é—¨ |
| `tags` | æ ‡ç­¾ | `tags` | - | åˆ†ç±»æ ‡ç­¾ |

#### æ•°æ®å— 2: `__atlas_user_auth__` (ç”¨æˆ·è®¤è¯) - å¯é€‰

**å®šä½**: å¯ç”¨ç™»å½•åŠŸèƒ½çš„äººå‘˜å¿…é¡»æœ‰æ­¤æ•°æ®å—ã€‚ä½¿ç”¨ Phase 4.2 çš„ `user-auth` å­—æ®µç»„å¤åˆç»„ä»¶ã€‚

| å­—æ®µ | æ ‡ç­¾ | ç»„ä»¶ | è¯´æ˜ |
|------|------|------|------|
| `user_id` | ç”¨æˆ·ID | è‡ªåŠ¨ç”Ÿæˆ | æ ¼å¼ï¼šU + æ—¥æœŸ + åºå· |
| `username` | ç”¨æˆ·å | text | ç™»å½•ç”¨æˆ·å |
| `email` | ç™»å½•é‚®ç®± | email | ç”¨äºç™»å½•å’Œæ‰¾å›å¯†ç  |
| `phone` | ç™»å½•æ‰‹æœº | phone | ç”¨äºç™»å½•ï¼ˆå¯é€‰ï¼‰ |
| `password_hash` | å¯†ç  | password | bcrypt å“ˆå¸Œå­˜å‚¨ |
| `role` | è§’è‰² | select | admin/staff/client/guest |
| `status` | çŠ¶æ€ | select | active/pending/disabled/locked/expired |
| `expired_at` | è¿‡æœŸæ—¶é—´ | date | è´¦æˆ·è¿‡æœŸæ—¶é—´ï¼ˆå¯é€‰ï¼‰ |

**é‡è¦**: æ­¤æ•°æ®å—ç±»å‹ä½¿ç”¨ä¸¥æ ¼æ ‡è¯†ç¬¦ `__atlas_user_auth__`ï¼Œä¼šè¢«è®¤è¯ç´¢å¼•æœåŠ¡è‡ªåŠ¨æ‰«æã€‚

#### æ•°æ®å— 3: `person_work` (å·¥ä½œä¿¡æ¯) - å¯é€‰

**å®šä½**: å‘˜å·¥ç›¸å…³çš„å·¥ä½œä¿¡æ¯ã€‚

| å­—æ®µ | æ ‡ç­¾ | ç»„ä»¶ | è¯´æ˜ |
|------|------|------|------|
| `employee_id` | å·¥å· | `id-generator` | è‡ªåŠ¨ç”Ÿæˆæˆ–æ‰‹åŠ¨å¡«å†™ |
| `hire_date` | å…¥èŒæ—¥æœŸ | `date` | å…¥èŒæ—¶é—´ |
| `work_location` | å·¥ä½œåœ°ç‚¹ | `text` | åŠå…¬åœ°ç‚¹ |
| `manager` | ç›´å±ä¸Šçº§ | `user-picker` | å…³è”ä¸Šçº§äººå‘˜ |
| `team_members` | å›¢é˜Ÿæˆå‘˜ | `user-picker` (å¤šé€‰) | å…³è”å›¢é˜Ÿæˆå‘˜ |

#### æ•°æ®å— 4: `person_contact` (è”ç³»æ–¹å¼) - å¯é€‰

**å®šä½**: æ‰©å±•è”ç³»æ–¹å¼ä¿¡æ¯ã€‚

| å­—æ®µ | æ ‡ç­¾ | ç»„ä»¶ | è¯´æ˜ |
|------|------|------|------|
| `work_email` | å·¥ä½œé‚®ç®± | `email` | å·¥ä½œç”¨é‚®ç®± |
| `work_phone` | å·¥ä½œç”µè¯ | `phone` | å·¥ä½œç”¨ç”µè¯ |
| `wechat` | å¾®ä¿¡å· | `text` | å¾®ä¿¡å· |
| `address` | åœ°å€ | `textarea` | è”ç³»åœ°å€ |
| `personal_url` | ä¸ªäººä¸»é¡µ | `url` | ä¸ªäººç½‘ç«™/åšå®¢ |
| `contact_qrcode` | åç‰‡äºŒç»´ç  | `qrcode` | è‡ªåŠ¨ç”Ÿæˆè”ç³»æ–¹å¼äºŒç»´ç  |

#### æ•°æ®å— 5: `person_stats` (ç»Ÿè®¡ä¿¡æ¯) - å¯é€‰ï¼Œåªè¯»

**å®šä½**: è‡ªåŠ¨è®°å½•çš„ç»Ÿè®¡ä¿¡æ¯ï¼Œåªè¯»å±•ç¤ºã€‚

| å­—æ®µ | æ ‡ç­¾ | ç»„ä»¶ | è¯´æ˜ |
|------|------|------|------|
| `login_stats` | ç™»å½•ç»Ÿè®¡ | `login-stats` | æ˜¾ç¤ºç™»å½•æ¬¡æ•°ã€æœ€åç™»å½•ç­‰ |
| `created_at` | åˆ›å»ºæ—¶é—´ | `timestamp` | type: created |
| `updated_at` | æ›´æ–°æ—¶é—´ | `timestamp` | type: updated |

#### æ•°æ®å— 6: `person_audit` (å®¡è®¡æ—¥å¿—) - å¯é€‰ï¼Œåªè¯»

**å®šä½**: å˜æ›´å†å²è®°å½•ã€‚

| å­—æ®µ | æ ‡ç­¾ | ç»„ä»¶ | è¯´æ˜ |
|------|------|------|------|
| `changes` | å˜æ›´è®°å½• | `audit-log` | æ˜¾ç¤ºæœ€è¿‘ 10 æ¡å˜æ›´ |

---

## ä¸‰ã€ä½¿ç”¨åœºæ™¯ä¸æ•°æ®å—ç»„åˆ

### 3.1 åœºæ™¯çŸ©é˜µ

| åœºæ™¯ | identity | auth | work | contact | stats | audit |
|------|----------|------|------|---------|-------|-------|
| ç®€å•è”ç³»äºº | âœ… | - | - | - | - | - |
| å®¢æˆ·æ¡£æ¡ˆ | âœ… | âœ… | - | âœ… | âœ… | - |
| å†…éƒ¨å‘˜å·¥ | âœ… | âœ… | âœ… | âœ… | âœ… | âœ… |
| å¤–éƒ¨åˆä½œä¼™ä¼´ | âœ… | âœ… | - | âœ… | - | - |
| ä»…è®°å½•ï¼ˆæ— ç™»å½•ï¼‰ | âœ… | - | âœ… | âœ… | - | - |

### 3.2 é¢„è®¾æ¨¡æ¿

#### æ¨¡æ¿ A: ç®€å•è”ç³»äºº

```yaml
# æœ€å°åŒ–æ¨¡æ¿ï¼Œä»…è®°å½•åŸºæœ¬ä¿¡æ¯
blocks:
  - person_identity
```

#### æ¨¡æ¿ B: å®¢æˆ·æ¡£æ¡ˆ

```yaml
# å®¢æˆ·æ¡£æ¡ˆæ¨¡æ¿ï¼Œæ”¯æŒå®¢æˆ·ç™»å½•
blocks:
  - person_identity
  - __atlas_user_auth__
  - person_contact
  - person_stats
default_values:
  auth.role: client
  auth.status: pending
```

#### æ¨¡æ¿ C: å†…éƒ¨å‘˜å·¥

```yaml
# å®Œæ•´å‘˜å·¥æ¡£æ¡ˆ
blocks:
  - person_identity
  - __atlas_user_auth__
  - person_work
  - person_contact
  - person_stats
  - person_audit
default_values:
  auth.role: staff
  auth.status: active
```

---

## å››ã€è¯¦æƒ…é¡µè§†å›¾è®¾è®¡

### 4.1 è§†å›¾å¸ƒå±€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [â†è¿”å›]                        äººå‘˜è¯¦æƒ…                         [ç¼–è¾‘] [Â·Â·Â·]â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                              â”‚
â”‚   â”‚          â”‚    å¼ ä¸‰                                                       â”‚
â”‚   â”‚  [å¤´åƒ]  â”‚    é«˜çº§äº§å“ç»ç† Â· ABCç§‘æŠ€æœ‰é™å…¬å¸                              â”‚
â”‚   â”‚          â”‚    ğŸ“§ zhangsan@example.com  ğŸ“± 138****8000                   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    ğŸ·ï¸ VIPå®¢æˆ·  äº§å“  åŒ—äº¬                                     â”‚
â”‚                                                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   [åŸºæœ¬ä¿¡æ¯]  [è®¤è¯ä¿¡æ¯]  [å·¥ä½œä¿¡æ¯]  [è”ç³»æ–¹å¼]  [ç»Ÿè®¡]  [æ—¥å¿—]              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚  ğŸ‘¤ èº«ä»½ä¿¡æ¯                                                [å±•å¼€/æ”¶èµ·]â”‚   â”‚
â”‚   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚   â”‚                                                                      â”‚   â”‚
â”‚   â”‚  æ˜¾ç¤ºåç§°    å¼ ä¸‰                                                    â”‚   â”‚
â”‚   â”‚  é‚®ç®±        zhangsan@example.com                                   â”‚   â”‚
â”‚   â”‚  æ‰‹æœºå·      138****8000                                            â”‚   â”‚
â”‚   â”‚  èº«ä»½è¯      110101********1234                                     â”‚   â”‚
â”‚   â”‚  èŒä½        é«˜çº§äº§å“ç»ç†                                            â”‚   â”‚
â”‚   â”‚  å…¬å¸        ABCç§‘æŠ€æœ‰é™å…¬å¸                                         â”‚   â”‚
â”‚   â”‚  éƒ¨é—¨        äº§å“éƒ¨                                                  â”‚   â”‚
â”‚   â”‚  æ ‡ç­¾        [VIPå®¢æˆ·] [äº§å“] [åŒ—äº¬]                                 â”‚   â”‚
â”‚   â”‚                                                                      â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                              â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚  ğŸ” ç”¨æˆ·è®¤è¯                                               [å±•å¼€/æ”¶èµ·]â”‚   â”‚
â”‚   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚   â”‚                                                                      â”‚   â”‚
â”‚   â”‚  ç”¨æˆ·ID      U20260116001                                           â”‚   â”‚
â”‚   â”‚  ç”¨æˆ·å      zhangsan                                               â”‚   â”‚
â”‚   â”‚  ç™»å½•é‚®ç®±    zhangsan@example.com                                   â”‚   â”‚
â”‚   â”‚  ç™»å½•æ‰‹æœº    138****8000                                            â”‚   â”‚
â”‚   â”‚  å¯†ç         â—â—â—â—â—â—â—â—  [ğŸ”„ é‡ç½®å¯†ç ]                                 â”‚   â”‚
â”‚   â”‚  è§’è‰²        [èŒå‘˜ â–¾]                                               â”‚   â”‚
â”‚   â”‚  çŠ¶æ€        ğŸŸ¢ æ­£å¸¸                                                 â”‚   â”‚
â”‚   â”‚                                                                      â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                              â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚  ğŸ“Š ç»Ÿè®¡ä¿¡æ¯                                               [å±•å¼€/æ”¶èµ·]â”‚   â”‚
â”‚   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚   â”‚                                                                      â”‚   â”‚
â”‚   â”‚  æœ€åç™»å½•    2026-01-16 14:32                                       â”‚   â”‚
â”‚   â”‚  ç™»å½•æ¬¡æ•°    156 æ¬¡                                                  â”‚   â”‚
â”‚   â”‚  åˆ›å»ºæ—¶é—´    2024-03-15 09:00                                       â”‚   â”‚
â”‚   â”‚  æ›´æ–°æ—¶é—´    2026-01-16 10:23                                       â”‚   â”‚
â”‚   â”‚                                                                      â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.2 Tab é…ç½®

| Tab | æ˜¾ç¤ºåç§° | åŒ…å«æ•°æ®å— | æ¡ä»¶ |
|-----|---------|-----------|------|
| basic | åŸºæœ¬ä¿¡æ¯ | person_identity | å§‹ç»ˆæ˜¾ç¤º |
| auth | è®¤è¯ä¿¡æ¯ | __atlas_user_auth__ | æœ‰è®¤è¯æ•°æ®å—æ—¶æ˜¾ç¤º |
| work | å·¥ä½œä¿¡æ¯ | person_work | æœ‰å·¥ä½œæ•°æ®å—æ—¶æ˜¾ç¤º |
| contact | è”ç³»æ–¹å¼ | person_contact | æœ‰è”ç³»æ•°æ®å—æ—¶æ˜¾ç¤º |
| stats | ç»Ÿè®¡ | person_stats | æœ‰ç»Ÿè®¡æ•°æ®å—æ—¶æ˜¾ç¤º |
| audit | æ—¥å¿— | person_audit | æœ‰å®¡è®¡æ•°æ®å—æ—¶æ˜¾ç¤º |

---

## äº”ã€ä¸ç°æœ‰ç³»ç»Ÿçš„å…¼å®¹æ€§

### 5.1 è®¤è¯ç´¢å¼•æœåŠ¡é›†æˆ

ä½¿ç”¨ `__atlas_user_auth__` ä¸¥æ ¼æ ‡è¯†ç¬¦åï¼Œè®¤è¯ç´¢å¼•æœåŠ¡ä¼šè‡ªåŠ¨ï¼š

1. æ‰«ææ‰€æœ‰åŒ…å«æ­¤æ•°æ®å—çš„æ–‡æ¡£
2. æå–å‡­è¯ä¿¡æ¯ï¼ˆusername/email/phoneï¼‰å»ºç«‹æ˜ å°„
3. æ”¯æŒç™»å½•è®¤è¯ API æŸ¥è¯¢
4. å®ç°å¢é‡æ›´æ–°ï¼ˆæ–‡æ¡£ä¿å­˜æ—¶è‡ªåŠ¨æ›´æ–°ç´¢å¼•ï¼‰

### 5.2 ç°æœ‰æ–‡æ¡£è¿ç§»

å¯¹äºå·²å­˜åœ¨çš„ Person æ–‡æ¡£ï¼ˆä½¿ç”¨æ—§çš„ `person_access` æ•°æ®å—ï¼‰ï¼š

```yaml
# è¿ç§»ç­–ç•¥
migration:
  # æ—§æ•°æ®å—
  old_block: person_access
  # æ–°æ•°æ®å—
  new_block: __atlas_user_auth__
  # å­—æ®µæ˜ å°„
  field_mapping:
    access_status: status
    access_enabled: # æ ¹æ® status æ¨æ–­
    contact_verified: # è¿ç§»åéœ€é‡æ–°éªŒè¯
    invited_at: # ä¿ç•™
    claimed_at: # ä¿ç•™
    last_login: # ä¿ç•™
    login_count: # ä¿ç•™
```

---

## å…­ã€å¾…ç¡®è®¤äº‹é¡¹

è¯·å®¡é˜…ä»¥ä¸Šè®¾è®¡ï¼Œå¹¶ç¡®è®¤ä»¥ä¸‹é—®é¢˜ï¼š

### 6.1 æ•°æ®å—é€‰æ‹©

- [ ] **èº«ä»½ä¿¡æ¯ (person_identity)**: å­—æ®µæ˜¯å¦è¶³å¤Ÿï¼Ÿéœ€è¦å¢å‡ï¼Ÿ
- [ ] **ç”¨æˆ·è®¤è¯ (__atlas_user_auth__)**: æ˜¯å¦ä½¿ç”¨æ ‡å‡† user-auth ç»„ä»¶ï¼Ÿ
- [ ] **å·¥ä½œä¿¡æ¯ (person_work)**: æ˜¯å¦éœ€è¦ï¼Ÿå­—æ®µæ˜¯å¦åˆé€‚ï¼Ÿ
- [ ] **è”ç³»æ–¹å¼ (person_contact)**: æ˜¯å¦éœ€è¦ï¼Ÿä¸èº«ä»½ä¿¡æ¯ä¸­çš„è”ç³»æ–¹å¼æ˜¯å¦é‡å¤ï¼Ÿ
- [ ] **ç»Ÿè®¡ä¿¡æ¯ (person_stats)**: æ˜¯å¦éœ€è¦ï¼Ÿ
- [ ] **å®¡è®¡æ—¥å¿— (person_audit)**: æ˜¯å¦éœ€è¦ï¼Ÿ

### 6.2 åœºæ™¯ç¡®è®¤

- [ ] ä¸»è¦ä½¿ç”¨åœºæ™¯æ˜¯ä»€ä¹ˆï¼Ÿï¼ˆå®¢æˆ·ç®¡ç†/å‘˜å·¥ç®¡ç†/æ··åˆï¼‰
- [ ] æ˜¯å¦éœ€è¦åŒºåˆ†"è”ç³»äºº"å’Œ"ç”¨æˆ·"ï¼Ÿ
- [ ] å¯¹äºä¸éœ€è¦ç™»å½•çš„äººå‘˜ï¼Œæ˜¯å¦éœ€è¦ auth æ•°æ®å—ï¼Ÿ

### 6.3 å…¶ä»–

- [ ] æ˜¯å¦éœ€è¦æ”¯æŒè‡ªå®šä¹‰å­—æ®µï¼Ÿ
- [ ] æ˜¯å¦éœ€è¦é¢„è®¾å¤šä¸ªæ¨¡æ¿ï¼Ÿ
- [ ] æ—§æ•°æ®æ˜¯å¦éœ€è¦è¿ç§»ï¼Ÿ

---

## ä¸ƒã€ä¸‹ä¸€æ­¥

ç¡®è®¤è®¾è®¡åï¼Œå¼€å‘é¡ºåºï¼š

1. åˆ›å»ºæ•°æ®å—å®šä¹‰æ–‡ä»¶ (`blocks/*.yaml`)
2. æ›´æ–° schema.yamlï¼ˆå­—æ®µæ ¡éªŒï¼‰
3. æ›´æ–° type.yamlï¼ˆç±»å‹å®šä¹‰ï¼‰
4. åˆ›å»ºæ–‡æ¡£æ¨¡æ¿ (`template.md`)
5. æ›´æ–° manifest.yamlï¼ˆç‰ˆæœ¬å‡çº§ï¼‰
6. æµ‹è¯•ä¸éªŒè¯

---

*æ–‡æ¡£ç‰ˆæœ¬: 1.0.0*  
*åˆ›å»ºæ—¥æœŸ: 2026-01-16*  
*ä½œè€…: ATLAS Team*
