# 联系人状态工作流
# 定义联系人的状态流转

version: "1.0"
name: "联系人状态"
description: "管理联系人的活跃状态"

# 状态定义
states:
  - id: "active"
    name: "活跃"
    color: "#10B981"
    icon: "check-circle"
    description: "经常联系的联系人"
    
  - id: "inactive"
    name: "不活跃"
    color: "#6B7280"
    icon: "pause-circle"
    description: "很久没联系的联系人"
    
  - id: "archived"
    name: "已归档"
    color: "#9CA3AF"
    icon: "archive"
    description: "已归档的联系人"

# 初始状态
initial: "active"

# 状态转换规则
transitions:
  - from: "active"
    to: "inactive"
    name: "标记为不活跃"
    trigger: "manual"
    
  - from: "inactive"
    to: "active"
    name: "标记为活跃"
    trigger: "manual"
    
  - from: ["active", "inactive"]
    to: "archived"
    name: "归档"
    trigger: "manual"
    requires_confirmation: true
    
  - from: "archived"
    to: "active"
    name: "恢复"
    trigger: "manual"

# 自动化规则
automation:
  - name: "自动标记不活跃"
    condition: "last_contact_date < today - 180 days"
    action: "transition_to: inactive"
    enabled: false

