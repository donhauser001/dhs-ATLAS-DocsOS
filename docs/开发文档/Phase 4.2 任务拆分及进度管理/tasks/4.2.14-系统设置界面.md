# 4.2.14 - 系统设置界面

> 优先级: 🟡 中  
> 预估工期: 3 天  
> 依赖任务: 4.2.2, 4.2.8  
> 状态: ✅ 已完成

## 任务概述

实现系统设置界面中的用户管理设置模块，包括注册设置、登录设置、密码策略、邮件服务配置。

## 目标

- [x] 注册设置页面
- [x] 登录设置页面
- [x] 密码策略页面
- [x] 邮件服务配置页面
- [x] 设置保存和实时生效

## 技术要点

### 页面结构

```
系统设置 › 用户管理设置
├── 📝 注册设置
├── 🔐 登录设置
├── 🔑 密码策略
├── 🎭 角色管理 (已完成: 4.2.3)
└── 📧 邮件服务
```

### UI 设计

```
┌─────────────────────────────────────────────────────────────┐
│  ⚙️ 系统设置 › 用户管理设置                                   │
├─────────────────────────────────────────────────────────────┤
│                                                              │
│  ┌─ 侧边导航 ─┐  ┌─ 内容区域 ────────────────────────────┐  │
│  │            │  │                                        │  │
│  │  📝 注册设置 │  │  📝 注册设置                           │  │
│  │  🔐 登录设置 │  │  ───────────────────────────────────  │  │
│  │  🔑 密码策略 │  │                                        │  │
│  │  🎭 角色管理 │  │  新用户默认状态:  ○ 待激活 ● 直接启用   │  │
│  │  📧 邮件服务 │  │  激活方式:        ● 邮箱验证 ○ 手动     │  │
│  │            │  │  ...                                    │  │
│  └────────────┘  │                          [保存设置]      │  │
│                  └────────────────────────────────────────┘  │
│                                                              │
└─────────────────────────────────────────────────────────────┘
```

### 各页面表单字段

**注册设置**:
- 新用户默认状态
- 激活方式
- 允许自助注册
- 需要邮箱验证
- 用户文档存放目录
- 文档命名规则

**登录设置**:
- 允许的登录方式
- 锁定前失败次数
- 锁定时长
- 会话有效期
- 记住我功能

**密码策略**:
- 最小长度
- 复杂度要求
- 密码有效期
- 历史密码数量

**邮件服务**:
- 启用/禁用
- 服务商选择
- SMTP 配置
- 发件人设置
- 测试发送

## 涉及文件

| 文件 | 修改类型 |
|------|----------|
| `frontend/src/pages/settings/UserSettingsPage.tsx` | 新增 |
| `frontend/src/pages/settings/components/RegistrationSettings.tsx` | 新增 |
| `frontend/src/pages/settings/components/LoginSettings.tsx` | 新增 |
| `frontend/src/pages/settings/components/PasswordPolicySettings.tsx` | 新增 |
| `frontend/src/pages/settings/components/EmailSettings.tsx` | 新增 |

## 子任务

- [x] Day 1: 页面框架，注册设置，登录设置
- [x] Day 2: 密码策略，邮件服务配置
- [x] Day 3: 测试邮件功能，整体调试

## 验收标准

1. 所有设置项正确展示
2. 设置修改后正确保存
3. 邮件测试功能正常
4. 权限控制正确（仅管理员可修改）

## 进度记录

| 日期 | 进度 | 备注 |
|------|------|------|
| 2026-01-06 | 100% | 全部完成 |

---

*创建日期: 2026-01-06*  
*完成日期: 2026-01-06*

