# é¡µé¢æ ‡é¢˜è§„èŒƒ

## æ¦‚è¿°

ATLAS DocsOS ä½¿ç”¨å…¨å±€çŠ¶æ€ç®¡ç†é¡µé¢æ ‡é¢˜ï¼Œç¡®ä¿æ‰€æœ‰é¡µé¢çš„æ ‡é¢˜å’Œæè¿°åœ¨é¡¶éƒ¨å¯¼èˆªæ ç»Ÿä¸€å‘ˆç°ã€‚

## æ ¸å¿ƒæœºåˆ¶

### çŠ¶æ€å­˜å‚¨

é¡µé¢æ ‡é¢˜é€šè¿‡ Zustand store ç®¡ç†ï¼š

```tsx
// stores/page.ts
interface PageState {
  title: string
  subtitle?: string
  setTitle: (title: string, subtitle?: string) => void
  reset: () => void
}
```

### ä½¿ç”¨ Hook

é€šè¿‡ `usePageTitle` hook è®¾ç½®é¡µé¢æ ‡é¢˜ï¼š

```tsx
import { usePageTitle } from '@/hooks/usePageTitle'

function ServiceList() {
  usePageTitle('æœåŠ¡æ¸…å•', 'ç®¡ç†æœåŠ¡é¡¹ç›®å’Œå®šä»·')
  
  return (
    // é¡µé¢å†…å®¹
  )
}
```

## ä½¿ç”¨è§„èŒƒ

### åŸºæœ¬ç”¨æ³•

```tsx
// åªæœ‰æ ‡é¢˜
usePageTitle('é¦–é¡µ')

// æ ‡é¢˜ + æè¿°
usePageTitle('æœåŠ¡æ¸…å•', 'ç®¡ç†æœåŠ¡é¡¹ç›®å’Œå®šä»·')
```

### åŠ¨æ€æ ‡é¢˜

```tsx
function ServiceDetail() {
  const { service } = useService(id)
  
  // æ ¹æ®æ•°æ®åŠ¨æ€è®¾ç½®æ ‡é¢˜
  usePageTitle(
    service?.name || 'åŠ è½½ä¸­...',
    service?.category
  )
  
  return (...)
}
```

### æ¡ä»¶æ ‡é¢˜

```tsx
function ProjectDetail() {
  const { project, isEditing } = useProjectDetail()
  
  usePageTitle(
    isEditing ? `ç¼–è¾‘: ${project.name}` : project.name,
    project.status
  )
  
  return (...)
}
```

## æ˜¾ç¤ºæ•ˆæœ

æ ‡é¢˜åœ¨é¡¶éƒ¨å¯¼èˆªæ å·¦ä¾§æ˜¾ç¤ºï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æœåŠ¡æ¸…å•  â”‚  ç®¡ç†æœåŠ¡é¡¹ç›®å’Œå®šä»·          ğŸ”  AIåŠ©æ‰‹  ğŸ””  ğŸ‘¤ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â†‘              â†‘
   æ ‡é¢˜(å¤§)     æè¿°(å°) + åˆ†éš”çº¿
```

### æ ·å¼è§„èŒƒ

| å…ƒç´  | æ ·å¼ | è¯´æ˜ |
|------|------|------|
| æ ‡é¢˜ | `text-xl font-bold tracking-tight` | 20px ç²—ä½“ |
| åˆ†éš”çº¿ | `h-5 w-px bg-border` | å‚ç›´åˆ†éš”çº¿ |
| æè¿° | `text-sm text-muted-foreground` | 14px æ¬¡è¦è‰² |

## å‘½åè§„èŒƒ

### æ ‡é¢˜å‘½å

| ç±»å‹ | æ ¼å¼ | ç¤ºä¾‹ |
|------|------|------|
| åˆ—è¡¨é¡µ | åè¯ | `æœåŠ¡æ¸…å•`ã€`å‘˜å·¥åˆ—è¡¨`ã€`é¡¹ç›®ç®¡ç†` |
| è¯¦æƒ…é¡µ | å…·ä½“åç§° | `ç½‘ç«™è®¾è®¡`ã€`å¼ ä¸‰` |
| ç¼–è¾‘é¡µ | `ç¼–è¾‘: åç§°` | `ç¼–è¾‘: ç½‘ç«™è®¾è®¡` |
| æ–°å»ºé¡µ | `æ–°å»º + ç±»å‹` | `æ–°å»ºæœåŠ¡`ã€`æ–°å»ºé¡¹ç›®` |
| è®¾ç½®é¡µ | `è®¾ç½®` æˆ–å…·ä½“è®¾ç½®é¡¹ | `ç³»ç»Ÿè®¾ç½®`ã€`ä¸ªäººåå¥½` |

### æè¿°å†…å®¹

| ç±»å‹ | å†…å®¹ | ç¤ºä¾‹ |
|------|------|------|
| åˆ—è¡¨é¡µ | åŠŸèƒ½è¯´æ˜ | `ç®¡ç†æœåŠ¡é¡¹ç›®å’Œå®šä»·` |
| è¯¦æƒ…é¡µ | åˆ†ç±»/çŠ¶æ€ | `æ•°å­—è®¾è®¡`ã€`è¿›è¡Œä¸­` |
| ç¼–è¾‘é¡µ | æç¤ºä¿¡æ¯ | `ä¿®æ”¹æœåŠ¡ä¿¡æ¯` |
| è®¾ç½®é¡µ | è®¾ç½®èŒƒå›´ | `é…ç½®ç³»ç»Ÿå‚æ•°` |

## å„é¡µé¢æ ‡é¢˜å‚è€ƒ

```tsx
// é¦–é¡µ
usePageTitle('å·¥ä½œå°', 'ä»Šæ—¥æ¦‚è§ˆä¸å¿«æ·å…¥å£')

// æœåŠ¡å®šä»·
usePageTitle('æœåŠ¡æ¸…å•', 'ç®¡ç†æœåŠ¡é¡¹ç›®å’Œå®šä»·')
usePageTitle('é™„åŠ é…ç½®', 'é…ç½®æœåŠ¡é™„åŠ é€‰é¡¹')

// ç»„ç»‡æ¶æ„
usePageTitle('ä¼ä¸šèµ„æ–™', 'ç®¡ç†å…¬å¸åŸºæœ¬ä¿¡æ¯')
usePageTitle('éƒ¨é—¨ç®¡ç†', 'ç»„ç»‡æ¶æ„ä¸éƒ¨é—¨è®¾ç½®')
usePageTitle('èŒä½ç®¡ç†', 'å²—ä½ä¸èŒçº§è®¾ç½®')
usePageTitle('å‘˜å·¥ç®¡ç†', 'å›¢é˜Ÿæˆå‘˜ä¿¡æ¯ç®¡ç†')

// é¡¹ç›®ç®¡ç†
usePageTitle('é¡¹ç›®åˆ—è¡¨', 'æŸ¥çœ‹å’Œç®¡ç†æ‰€æœ‰é¡¹ç›®')
usePageTitle(project.name, project.clientName) // è¯¦æƒ…é¡µ

// ä»»åŠ¡ç®¡ç†
usePageTitle('ä»»åŠ¡åˆ—è¡¨', 'å¾…åŠäº‹é¡¹ä¸ä»»åŠ¡è¿½è¸ª')

// ç³»ç»Ÿè®¾ç½®
usePageTitle('ç³»ç»Ÿè®¾ç½®', 'é…ç½®ç³»ç»Ÿå‚æ•°')
```

## å®ç°ç»†èŠ‚

### usePageTitle Hook

```tsx
// hooks/usePageTitle.ts
import { useEffect } from 'react'
import { usePageStore } from '@/stores/page'

export function usePageTitle(title: string, subtitle?: string) {
  const { setTitle, reset } = usePageStore()

  useEffect(() => {
    setTitle(title, subtitle)
    return () => reset() // ç»„ä»¶å¸è½½æ—¶é‡ç½®
  }, [title, subtitle, setTitle, reset])
}
```

### Header ç»„ä»¶æ¸²æŸ“

```tsx
// components/layout/Header.tsx
function Header() {
  const { title, subtitle } = usePageStore()

  return (
    <header className="flex h-14 items-center justify-between ...">
      <div className="flex items-center gap-4">
        {title && (
          <>
            <h1 className="text-xl font-bold tracking-tight">{title}</h1>
            {subtitle && (
              <>
                <div className="h-5 w-px bg-border" />
                <p className="text-sm text-muted-foreground">{subtitle}</p>
              </>
            )}
          </>
        )}
      </div>
      {/* å³ä¾§å†…å®¹ */}
    </header>
  )
}
```

## æ³¨æ„äº‹é¡¹

1. **æ¯ä¸ªé¡µé¢å¿…é¡»è°ƒç”¨** `usePageTitle`ï¼Œå¦åˆ™æ˜¾ç¤ºç©ºç™½
2. **ç»„ä»¶å¸è½½è‡ªåŠ¨é‡ç½®**ï¼Œæ— éœ€æ‰‹åŠ¨æ¸…ç†
3. **åŠ¨æ€æ ‡é¢˜éœ€è¦ä¾èµ–é¡¹**ï¼Œç¡®ä¿æ•°æ®å˜åŒ–æ—¶æ›´æ–°
4. **æ ‡é¢˜ç®€æ´**ï¼Œå»ºè®®ä¸è¶…è¿‡ 6 ä¸ªå­—
5. **æè¿°å¯é€‰**ï¼Œå¤æ‚é¡µé¢å»ºè®®æ·»åŠ 

## æœ€ä½³å®è·µ

```tsx
// âœ… æ¨èï¼šåœ¨ç»„ä»¶é¡¶å±‚è°ƒç”¨
function ServiceList() {
  usePageTitle('æœåŠ¡æ¸…å•', 'ç®¡ç†æœåŠ¡é¡¹ç›®å’Œå®šä»·')
  // ...
}

// âœ… æ¨èï¼šåŠ¨æ€æ•°æ®ä½¿ç”¨æ¡ä»¶æ¸²æŸ“
function ServiceDetail() {
  const { data } = useQuery(...)
  usePageTitle(data?.name || 'åŠ è½½ä¸­...', data?.category)
  // ...
}

// âŒ é¿å…ï¼šåœ¨æ¡ä»¶å—å†…è°ƒç”¨
function ServiceDetail() {
  if (data) {
    usePageTitle(data.name) // Hook è§„åˆ™è¿å
  }
}

// âŒ é¿å…ï¼šæ ‡é¢˜è¿‡é•¿
usePageTitle('è¿™æ˜¯ä¸€ä¸ªéå¸¸é•¿çš„é¡µé¢æ ‡é¢˜ä¼šå¯¼è‡´æ˜¾ç¤ºé—®é¢˜')
```

